## Определение наиболее выгодного региона нефтедобычи

# Цель исследования
1. Построить модель машинного обучения, которая поможет определить регион, где добыча принесёт наибольшую прибыль.


# Ход исследования
Нам предоставленны данные пробы нефти в трёх регионах: в каждом 10 000 месторождений, где измерили качество нефти и объём её запасов. Данные разделены на три датафрейма, которые мы получим из файлов '/datasets/geo_data_0.csv', '/datasets/geo_data_1.csv', '/datasets/geo_data_2.csv'. О качестве данных нам ничего не известно, поэтому перед тем, как приступать к целям исследования, понадобится обзор данных. Мы проверим данные на ошибки. Затем, на этапе предобработки мы будем искать возможность исправить все ошибки в данных, которые не приведут к искажению конечного результата. Далее приступим к целям исследования.<br>


Таким образом, исследование пройдёт в девять этапов:<br>

* Обзор данных <br>
* Предобработка данных <br>
* Обучение и проверка модели для каждого региона<br>
* Подготовка к расчету прибыли<br>
* Написание функции для расчёта прибыли по выбранным скважинам и предсказаниям модели<br>
* Расчет рисков и прибыли для каждого региона<br>
* Выявление лучшего региона<br>
* Написание промежуточных выводов <br>
* Написание общего вывода


# Вывод
1. Мы ознакомились с представленным датафреймом и провели предобработку данных <br>
2. Мы разбили данные на обучающую и валидационную выборки в соотношении 75:25 <br>
3. Мы обучили модель линейной регрессии и сделали предсказания на валидационной выборке: <br>
* Наилучшими показателями обладает 2 регион, RMSE модели линейной регрессии на валидационной выборке: 0.89, R2 на валидационной выборке: 1.0. <br>

* Следующими хорошими показателями обладает 1 регион, при RMSE модели 37.58 и R2 0.28. <br>

* Замыкающим стал 3 регион с худшими показателями: RMSE модели 40.03 и R2 0.21. <br>


4. Мы сохранили предсказания и правильные ответы на валидационной выборке и вывели на экран <br>
5. Мы напечатали на экране средний запас предсказанного сырья и RMSE модели для каждого региона: <br> 
* Наибольший средний запас предсказанного сырья приходится на 3 и 1 регионы, 94.96 и 92.59 соответственно при RMSE моделей 40.03 и 37.58 соответственно, однако наилучшее RMSE у модели региона - 0.89 при среднем запасе предсказанного сырья в 68.73. <br>


6. Мы сохранили все ключевые значения для расчётов в отдельных переменных <br>
7. Мы рассчитали достаточный объём сырья для безубыточной разработки новой скважины и выяснили, что для безубыточной одной скважины объем должен составлять не менее 111.11 тыс. баррелей <br>
8. Мы сравнили полученный объем сырья со средним запасом в каждом регионе: <br>
* ни в одном регионе нет достаточного объема сырья для безубыточной разработки новой скважины; <br>

* близкими по значению к отметке в 111.11 тыс. баррелей при котором происходит безубыточная разработка, являются 1 и 3 регионы, с объемами в 92.5 и 95.0 тыс. баррелей соответственно; <br>

* самым убыточным является второй регион, средний объем сырья которого составляет 68.82 тыс. баррелей. <br>


9. Мы рассчитали прибыль для каждого региона на основе предыдущих вычислений: <br>
* в среднем прибыль (profit) у 1 региона равняется примерно ~ 41.5 млн. рублей. Средний ROI вложений пока не окупается и в среднем уходит в минус, то есть вложения пока не окупаются; <br>

* в среднем прибыль у 2 региона равняется примерно ~ 30 млн. рублей. Средний ROI вложений пока не окупается и в среднем уходит в минус, то есть вложения в бизнес пока не окупаются; <br>

* в среднем прибыль у 3 региона равняется примерно ~ 42.7 млн. рублей. Средний ROI вложений пока не окупается и в среднем уходит в минус, то есть вложения в бизнес пока не окупаются. <br>


10.	Мы отобрали 200 скважин с максимальными значениями предсказаний <br>
11.	Мы просуммировали целевое значение объёма сырья, соответствующее предсказаниям <br>
12.	Мы рассчитали прибыль для полученного объёма сырья <br>
13.	Написали функцию для расчёта прибыли по выбранным скважинам и предсказаниям модели: <br>
* 1 регион: <br>
Суммарный объем запасов в 200 лучших скважинах составляет: 31102.33 тыс. баррелей <br>
Общая прибыль для полученного объёма сырья составляет: 4 млрд. рублей <br>

* 2 регион: <br>
Суммарный объем запасов в 200 лучших скважинах составляет: 27746.03 тыс. баррелей <br>
Общая прибыль для полученного объёма сырья составляет: 2.5 млрд. рублей <br>

* 3 регион: <br>
Суммарный объем запасов в 200 лучших скважинах составляет: 29603.9 тыс. баррелей <br>
Общая прибыль для полученного объёма сырья составляет: 3.3 млрд. рублей <br>


14. Мы посчитали риски и прибыль для каждого региона <br>
15. Применили технику Bootstrap с 1000 выборок, чтобы найти распределение прибыли <br>
16. Нашли среднюю прибыль, 95%-й доверительный интервал и риск убытков <br>
17. Предложили регион для разработки скважин и обосновали выбор: <br>
* лидером для бурения новой скважины выступает 2 регион. <br>

**Рекомендации:** <br>
2 регион рекомендуется для места бурения новой скважины, так как имеет хорошие показатели прибыли и объема сырья, а так же имея вероятность в убытке 1 %, что немаловажно. То есть с большей вроятностью новая скважина окупит себя или начнет приносить прибыль. Так же в процессе обучения модели линейной регрессии и предсказаний на валидационной выборке, 2 регион обладал наилучшими показателями и являлся абсолютным лидером: RMSE модели линейной регрессии на валидационной выборке 0.89, R2 на валидационной выборке 1.0.


# Стек технологий
Pandas, Scikit-learn, бутстреп

# Статус проекта
Завершен
